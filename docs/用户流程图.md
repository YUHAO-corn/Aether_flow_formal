graph TD
    A[用户] --> B{是否已注册/登录?}
    B -->|否| C[注册/登录]
    B -->|是| D[选择入口: 插件端或网页端]

    %% 插件端流程
    D --> E[启动插件]
    E --> F[浏览 Prompt 卡片]
    F --> G{用户操作}
    G -->|插入 Prompt| H[点击卡片, 弹出模态窗口]
    H --> I[点击插入按钮]
    I --> J[Prompt 插入 AI 平台输入框]
    G -->|优化 Prompt| K[输入原始 Prompt]
    K --> L[系统优化 Prompt]
    L --> M[展示优化结果]
    M --> N{用户选择}
    N -->|继续优化| L
    N -->|插入| J
    N -->|复制| O[复制到剪贴板]
    G -->|Prompt 联想| P[在 AI 平台输入框中输入 / + 关键词]
    P --> Q[系统联想匹配 Prompt]
    Q --> R[展示下拉菜单]
    R --> S[用户选择 Prompt]
    S --> J
    G -->|自动存储| T[用户与 AI 平台对话]
    T --> U[系统自动存储对话记录]
    U --> V[显示存储提醒]
    G -->|猜你想问| W[点击推荐按钮]
    W --> X[系统推荐高频 Prompt]
    X --> Y[展示推荐卡片]
    Y --> Z[用户选择 Prompt]
    Z --> J

    %% 网页端流程
    D --> AA[访问网页端]
    AA --> AB[浏览 Prompt 卡片]
    AB --> AC{用户操作}
    AC -->|查看详情| AD[点击卡片, 弹出模态窗口]
    AD --> AE[编辑标签/收藏/复制/删除]
    AC -->|搜索 Prompt| AF[输入关键词搜索]
    AF --> AG[展示搜索结果]
    AC -->|标签筛选| AH[点击标签筛选]
    AH --> AI[展示筛选结果]
    AC -->|排序| AJ[选择排序方式]
    AJ --> AK[展示排序结果]
    AA --> AL[资产仪表盘]
    AL --> AM[查看核心数据]
    AM --> AN[点击图表查看详细数据]
    AA --> AO[沙盘调试]
    AO --> AP[输入 Prompt, 选择大模型]
    AP --> AQ[系统优化 Prompt]
    AQ --> AR[展示优化结果]
    AR --> AS{用户操作}
    AS -->|继续优化| AQ
    AS -->|保存| AT[保存优化结果]
    AS -->|测试| AU[测试 Prompt 与大模型对话]
    AU --> AV[保存测试记录]

    %% 插件端与网页端关联
    U --> AW[存储记录同步到网页端]
    AE --> AW
    AT --> AW
    AV --> AW